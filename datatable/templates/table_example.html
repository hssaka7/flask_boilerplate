
{% extends "layout.html" %}
{%block content %}

    <h3> {{ title }} </h3>

    <table id = "example" class = "table table-striped table-bordered" cellspacing="0" width="100%">

        <thead>
            <th> id </th>
            <th> name </th>
            <th> phone </th>
            <th> status </th>
        </thead>

        <tbody>
        {% for val in data %}
            <tr>
                <td>{{val.id}}</td>
                <td>{{val.name}}</td>
                <td>{{val.phone}}</td>
                <td>{{val.status}}</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>

    <script>
        $(document).ready(function() {
            $('#example thead tr').clone(true).appendTo( '#example thead' );
            $('#example thead tr:eq(1) th').each( function (i) {
                var title = $(this).text();
                $(this).html( '<input type="text" placeholder="Search '+title+'" />' );

                $( 'input', this ).on( 'keyup change', function () {
                    if ( table.column(i).search() !== this.value ) {
                        table
                            .column(i)
                            .search( this.value )
                            .draw();
                    }
                } );
            } );

            var table = $('#example').DataTable( {

                orderCellsTop: true,
                fixedHeader: true
            } );

         } );
    </script>

{%endblock%}